<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quizzes — EXCELlent AccounTax</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    .topbar {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: #fff;
      border-bottom: 1px solid #ccc;
    }
    .tabs {
      display: flex;
      gap: 1rem;
      padding: 0.5rem 1rem;
    }
    .tab {
      text-decoration: none;
      color: #333;
      padding: 0.25rem 0.5rem;
    }
    .tab.active {
      font-weight: bold;
      border-bottom: 2px solid #0078d4;
    }
    .actionbar {
      position: sticky;
      top: 2.5rem;
      z-index: 999;
      background: #f9f9f9;
      border-bottom: 1px solid #ccc;
      padding: 0.5rem 1rem;
    }
    .actionbar-inner {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: flex-end;
    }
    .select label {
      display: block;
      font-size: 0.85rem;
      margin-bottom: 0.25rem;
    }
    .select select {
      min-width: 150px;
    }
    .actions {
      display: flex;
      gap: 0.5rem;
    }
    .btn {
      padding: 0.4rem 0.8rem;
      cursor: pointer;
    }
    .btn[disabled] {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .container {
      padding: 1rem;
    }
    .section-heading {
      margin-top: 1.5rem;
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.25rem;
    }
    .q {
      border: 1px solid #ddd;
      padding: 0.75rem;
      margin-top: 1rem;
      border-radius: 4px;
      background: #fff;
    }
    .q-meta {
      font-size: 0.85rem;
      color: #666;
      margin-bottom: 0.25rem;
    }
    .choices {
      margin-top: 0.5rem;
    }
    .choice {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.25rem;
    }
    .letter {
      font-weight: bold;
    }
    .feedback.correct {
      color: green;
    }
    .feedback.incorrect {
      color: red;
    }
    .feedback.hidden,
    .reveals.hidden {
      display: none;
    }
    .scoreboard {
      margin-top: 1.5rem;
      padding: 0.75rem;
      border: 1px solid #ccc;
      background: #f0f0f0;
      display: flex;
      gap: 2rem;
    }
    .scoreboard.hidden {
      display: none;
    }
    .score label {
      display: block;
      font-size: 0.85rem;
      color: #555;
    }
    .score strong {
      font-size: 1.2rem;
    }
  </style>
</head>
<body>

<header class="topbar" role="navigation" aria-label="Primary">
  <nav class="tabs">
    <a class="tab" href="#home" data-tab="home">Home</a>
    <a class="tab" href="#glossary" data-tab="glossary">Glossary</a>
    <a class="tab active" href="#quizzes" data-tab="quizzes">Quizzes</a>
    <a class="tab" href="#references" data-tab="references">References</a>
    <a class="tab" href="#visuals" data-tab="visuals">Visuals</a>
    <a class="tab" href="#tools" data-tab="tools">Tools</a>
  </nav>
</header>

<div class="actionbar" role="region" aria-label="Quiz filters and actions">
  <div class="actionbar-inner">
    <div class="select">
      <label for="volume">Volume</label>
      <select id="volume">
        <option value="">Select volume</option>
        <option value="1">Volume 1</option>
        <option value="2">Volume 2</option>
        <option value="3">Volume 3</option>
      </select>
    </div>

    <div class="select">
      <label for="chapter">Chapter</label>
      <select id="chapter" disabled>
        <option value="">Select chapter</option>
      </select>
    </div>

    <div class="select">
      <label for="topic">Topic</label>
      <select id="topic" disabled>
        <option value="">Select topic</option>
      </select>
    </div>

    <div class="select">
      <label for="qtype">Question type</label>
      <select id="qtype" disabled>
        <option value="">Select type</option>
        <option value="theory">Theory</option>
        <option value="practice">Practice</option>
        <option value="both">Both</option>
      </select>
    </div>

    <div class="actions">
      <button id="submitBtn" class="btn primary" disabled>Submit</button>
      <button id="resetBtn" class="btn secondary" disabled>Reset</button>
    </div>
  </div>
</div>

<main class="container">
  <section id="quizzesPanel" class="panel">
    <p class="filters-note">
      Use the selectors above to load questions. Tabs and controls remain clickable even when you scroll.
    </p>

    <div id="content"></div>

    <div id="scoreboard" class="scoreboard hidden" aria-live="polite">
      <div class="score">
        <label>Raw score</label>
        <strong id="rawScore">0 / 0</strong>
      </div>
      <div class="score">
        <label>Percentage</label>
        <strong id="pctScore">0%</strong>
      </div>
    </div>
  </section>
</main>

<script>
// ==========================
// State & Elements
// ==========================
const state = {
  volume: "",
  chapter: "",
  topic: "",
  qtype: "",
  submitted: false
};

const volumeSel = document.getElementById('volume');
const chapterSel = document.getElementById('chapter');
const topicSel = document.getElementById('topic');
const qtypeSel = document.getElementById('qtype');
const contentEl = document.getElementById('content');
const submitBtn = document.getElementById('submitBtn');
const resetBtn = document.getElementById('resetBtn');
const scoreboard = document.getElementById('scoreboard');
const rawScoreEl = document.getElementById('rawScore');
const pctScoreEl = document.getElementById('pctScore');

// ==========================
// Data (Batch 1)
// ==========================
const DATA = {
  volumes: {
    "1": {
      label: "Volume 1",
      chapters: {
        "1": {
          label: "Cash and Cash Equivalents",
          topics: {
            "1.1": {
              label: "Cash and Cash Equivalents",
              theory: [
                {
                  id: "V1C1T1Q1",
                  stem: "Cash on hand includes:",
                  choices: [
                    "Checks dated less than 6 months after today.",
                    "Checks dated less than 6 months before today.",
                    "Checks dated more than 6 months after today.",
                    "Checks dated more than 6 months before today."
                  ],
                  correctIndex: 1
                },
                {
                  id: "V1C1T1Q2",
                  stem: "In defining cash equivalents, known maturity value denotes:",
                  choices: [
                    "Maturity date is determinable on acquisition date.",
                    "Maturity value is determinable on acquisition date.",
                    "Maturity value will be determined on maturity date.",
                    "Maturity value will be known on maturity date."
                  ],
                  correctIndex: 1
                },
                {
                  id: "V1C1T1Q3",
                  stem: "Which are excluded from cash equivalents?",
                  choices: [
                    "Credit cards receivable.",
                    "Debit cards receivable.",
                    "Time deposits downgraded lower than savings accounts when pre-terminated.",
                    "Time deposits downgraded not lower than savings accounts when pre-terminated."
                  ],
                  correctIndex: 2
                },
                {
                  id: "V1C1T1Q4",
                  stem: "Which are classified as restricted cash, and presented as noncurrent assets?",
                  choices: [
                    "Currency usable for at least 12 months after the reporting period.",
                    "Currency usable for less than 12 months after the reporting period.",
                    "Currency usable for more than 12 months after the reporting period.",
                    "Currency usable within 12 months after the reporting period."
                  ],
                  correctIndex: 0
                },
                {
                  id: "V1C1T1Q5",
                  stem: "Which are classified as short-term investments, and presented as current assets?",
                  choices: [
                    "Bank deposits withdrawable with insignificant penalty and usable for less than 12 months.",
                    "Bank deposits withdrawable with significant penalty and usable for more than 12 months.",
                    "Bank deposits withdrawable with significant penalty and usable within 12 months.",
                    "Bank deposits withdrawable without penalty and usable for less than 12 months."
                  ],
                  correctIndex: 2
                },
                {
                  id: "V1C1T1Q6",
                  stem: "These describe a bank overdraft, except:",
                  choices: [
                    "It is allowed only if caused by normal bank changes or other incidental handling fees.",
                    "It is disallowed in the Philippines.",
                    "It is known as temporary overdrawing in the Philippines.",
                    "It is the negative (or overdrawn) balance in a demand deposit account."
                  ],
                  correctIndex: 1
                },
                {
                  id: "V1C1T1Q7",
                  stem: "Check withdrawals are recorded as:",
                  choices: [
                    "Debit to Demand Deposits of depositor entity and credit to Deposit Liabilities of financial institution.",
                    "Debit to Demand Deposits of financial institution and credit to Deposit Liabilities of depositor entity.",
                    "Debit to Deposit Liabilities of depositor entity and credit to Demand Deposits of financial institution.",
                    "Debit to Deposit Liabilities of financial institution and credit to Demand Deposits of depositor entity."
                  ],
                  correctIndex: 3
                },
                {
                  id: "V1C1T1Q8",
                  stem: "Timing differences for Deposit Liabilities of financial institution comprise:",
                  choices: [
                    "Credit memos and debit memos.",
                    "Outstanding checks and debit memos.",
                    "Outstanding deposits and credit memos.",
                    "Outstanding deposits and outstanding checks."
                  ],
                  correctIndex: 3
                },
                {
                  id: "V1C1T1Q9",
                  stem: "Which describe debit memos?",
                  choices: [
                    "They are already credited to Demand Deposits but not yet debited to Deposit Liabilities.",
                    "They are already credited to Deposit Liabilities but not yet debited to Demand Deposits.",
                    "They are already debited to Demand Deposits but not yet credited to Deposit Liabilities.",
                    "They are already debited to Deposit Liabilities but not yet credited to Demand Deposits."
                  ],
                  correctIndex: 3
                },
                {
                  id: "V1C1T1Q10",
                  stem: "Before replenishment, the adjusted balance of Petty Cash Fund equals:",
                  choices: [
                    "Currency in the custody of the Petty Cash Custodian.",
                    "Established amount.",
                    "Minimum threshold.",
                    "Total of Petty Cash Vouchers."
                  ],
                  correctIndex: 0
                }
              ],
practice: [
  {
    id: "V1C1T1P1Q1",
    stem: "With these givens, the closing outstanding checks are:",
    choices: [
      "₱289,000.00",
      "₱311,000.00",
      "₱489,000.00",
      "₱511,000.00"
    ],
    correctIndex: 1,
    questionImage: "images/IntaccV1C01CashAndCashEquivalentsPrQ1.png",
    answerImage: "images/IntaccV1C01CashAndCashEquivalentsPrA1.png"
  },
  {
    id: "V1C1T1P1Q2",
    stem: "With these givens, the opening outstanding checks are:",
    choices: [
      "₱289,000.00",
      "₱311,000.00",
      "₱489,000.00",
      "₱511,000.00"
    ],
    correctIndex: 1,
    questionImage: "images/IntaccV1C01CashAndCashEquivalentsPrQ2.png",
    answerImage: "images/IntaccV1C01CashAndCashEquivalentsPrA2.png"
  },
  {
    id: "V1C1T1P1Q3",
    stem: "With these givens, the closing book balance is:",
    choices: [
      "₱2,496,000.00",
      "₱2,499,800.00",
      "₱2,500,200.00",
      "₱2,504,000.00"
    ],
    correctIndex: 1,
    questionImage: "images/IntaccV1C01CashAndCashEquivalentsPrQ3.png",
    answerImage: "images/IntaccV1C01CashAndCashEquivalentsPrA3.png"
  },
  {
    id: "V1C1T1P1Q4",
    stem: "With these givens, the closing outstanding deposits are:",
    choices: [
      "₱487,000.00",
      "₱513,000.00",
      "₱887,000.00",
      "₱913,000.00"
    ],
    correctIndex: 3,
    questionImage: "images/IntaccV1C01CashAndCashEquivalentsPrQ4.png",
    answerImage: "images/IntaccV1C01CashAndCashEquivalentsPrA4.png"
  },
  {
    id: "V1C1T1P1Q5",
    stem: "With these givens, the adjusted closing balance is:",
    choices: [
      "₱2,496,000.00",
      "₱2,499,800.00",
      "₱2,500,200.00",
      "₱2,504,000.00"
    ],
    correctIndex: 1,
    questionImage: "images/IntaccV1C01CashAndCashEquivalentsPrQ5.png",
    answerImage: "images/IntaccV1C01CashAndCashEquivalentsPrA5.png"
  }
]
            }
          }
        }
      }
    }
  }
};

"2": {
  label: "Other Financial Assets",
  topics: {
    "2.10.1": {
      label: "Definition and Classification of Financial Assets",
      theory: [
        {
          id: "V1C2T2.10.1Q1",
          stem: "These describe a contract, except:",
          choices: [
            "It has clear economic consequences.",
            "It is an agreement between two or more parties.",
            "It is unavoidable by the parties.",
            "It must be in writing."
          ],
          correctIndex: 3
        },
        {
          id: "V1C2T2.10.1Q2",
          stem: "The entity’s own equity instruments include:",
          choices: [
            "Contracts for future delivery of the entity’s own equity instruments.",
            "Equity instruments to deliver prorate share in net assets to another entity, upon liquidation.",
            "Puttable financial instruments classified as equity instruments.",
            "The entity’s own ordinary shares."
          ],
          correctIndex: 3
        },
        {
          id: "V1C2T2.10.1Q3",
          stem: "Which describes a debt instrument measured at FVOCI?",
          choices: [
            "It is held for trading.",
            "It is held to collect contractual cash flows over its life and realize its fair value through sale.",
            "It is irrevocably designated as measured at FVOCI upon initial recognition.",
            "It is managed on fair value basis."
          ],
          correctIndex: 1
        },
        {
          id: "V1C2T2.10.1Q4",
          stem: "These describe a debt instrument measured at FVOCI, except:",
          choices: [
            "It is held to collect contractual cash flows over its life and realize its fair value through sale.",
            "It is irrevocably designated as measured at FVOCI upon initial recognition.",
            "It is not irrevocably designated as measured at FVPL upon initial recognition.",
            "Its contractual cash flows are solely payments of principal and interest on outstanding principal."
          ],
          correctIndex: 1
        },
        {
          id: "V1C2T2.10.1Q5",
          stem: "These describe the business model for a debt instrument, except:",
          choices: [
            "It is assessed upon initial recognition of the financial asset.",
            "It is based on best-case, average-case, and worst-case scenarios.",
            "It is determined by the key management personnel.",
            "It is the manner of generating cash flows from the financial asset."
          ],
          correctIndex: 1
        },
        {
          id: "V1C2T2.10.1Q6",
          stem: "These are irrelevant in assessing the business model for a debt instrument, except:",
          choices: [
            "Credit-impairment of the debt instrument.",
            "Intent of the entity.",
            "Reasonably expected scenarios.",
            "Requirement of a third party."
          ],
          correctIndex: 2
        },
        {
          id: "V1C2T2.10.1Q7",
          stem: "When the business model for a portfolio of debt instruments changes:",
          choices: [
            "Old and new instruments are classified under new and old models, respectively.",
            "Old and new instruments are classified under old and new models, respectively.",
            "Old and new instruments continue to be classified under new model.",
            "Old and new instruments start to be classified under new model."
          ],
          correctIndex: 1
        },
        {
          id: "V1C2T2.10.1Q8",
          stem: "Sales of debt instruments are consistent with the hold to collect business model, if close to:",
          choices: [
            "Initial recognition, with proceeds approximating the remaining contractual cash flows.",
            "Initial recognition, with proceeds exceeding the remaining contractual cash flows.",
            "Maturity, with proceeds approximating the remaining contractual cash flows.",
            "Maturity, with proceeds exceeding the remaining contractual cash flows."
          ],
          correctIndex: 2
        },
        {
          id: "V1C2T2.10.1Q9",
          stem: "Cash flows on loans with capped interest rates are solely payments of principal and interest, if:",
          choices: [
            "Interest equals the maximum market interest rate.",
            "Interest is below the maximum market interest rate.",
            "Interest is limited to the maximum market interest rate.",
            "Interest reflects compensation in a basic lending arrangement."
          ],
          correctIndex: 3
        },
        {
          id: "V1C2T2.10.1Q10",
          stem: "Cash flows on debt instruments are solely payments of principal and interest, if:",
          choices: [
            "Difference between undiscounted contractual and benchmark cash flows is insignificant.",
            "Difference between undiscounted contractual and benchmark cash flows is significant.",
            "Tenor of interest rate is longer than frequency of interest reset.",
            "Tenor of interest rate is shorter than frequency of interest reset."
          ],
          correctIndex: 0
        },
        {
          id: "V1C2T2.10.1Q11",
          stem: "Cash flows on debt instruments are solely payments of principal and interest, if:",
          choices: [
            "Acquired at a discount on principal, but prepayable at par.",
            "Acquired at a premium on principal, but prepayable at par.",
            "Fair value of prepayment feature is insignificant.",
            "Fair value of prepayment feature is significant."
          ],
          correctIndex: 2
        },
        {
          id: "V1C2T2.10.1Q12",
          stem: "Cash flows on debt instruments are not solely payments of principal and interest, if:",
          choices: [
            "Interest rate equals higher between minimum rate and market rate.",
            "Interest rate equals lower between maximum rate and market rate.",
            "Interest rate equals market rate minus fixed rate.",
            "Interest rate equals market rate plus fixed rate."
          ],
          correctIndex: 2
        },
        {
          id: "V1C2T2.10.1Q13",
          stem: "Reclassification of all debt instruments within a portfolio may be required, when:",
          choices: [
            "A business activity commences or ceases to be implemented.",
            "A particular market for the debt instruments within the portfolio disappears.",
            "The debt instruments are transferred between divisions of the entity.",
            "The debt instruments cease to fulfill the requirements for internal credit quality."
          ],
          correctIndex: 0
        },
        {
          id: "V1C2T2.10.1Q14",
          stem: "Reclassification of all debt instruments within a portfolio is disallowed, when:",
          choices: [
            "A business activity commences or ceases to be implemented.",
            "Changes in regulatory requirements occur.",
            "The change in business activity is demonstrable to external parties.",
            "The change in business activity is significant to the operations of the entity."
          ],
          correctIndex: 1
        },
        {
          id: "V1C2T2.10.1Q15",
          stem: "If the business activity changed on March 9 this year, and interim statements are not presented:",
          choices: [
            "All debt instruments within the portfolio are reclassified on April 1 this year.",
            "All debt instruments within the portfolio are reclassified on January 1 next year.",
            "All debt instruments within the portfolio are reclassified on July 1 this year.",
            "All debt instruments within the portfolio are reclassified on October 1 this year."
          ],
          correctIndex: 1
        }
      ],
      practice: []
    }
  },
}

</script>

<script>
// ==========================
// Tab switching
// ==========================
function activateTab(name) {
  document.querySelectorAll('.tab').forEach(tab => {
    tab.classList.toggle('active', tab.dataset.tab === name);
  });
  document.querySelectorAll('.panel').forEach(panel => {
    panel.style.display = panel.id === name + 'Panel' ? 'block' : 'none';
  });
}
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', e => {
    e.preventDefault();
    activateTab(tab.dataset.tab);
  });
});

// ==========================
// Clear UI
// ==========================
function clearUI() {
  contentEl.innerHTML = '';
  scoreboard.classList.add('hidden');
  rawScoreEl.textContent = '0 / 0';
  pctScoreEl.textContent = '0%';
  state.submitted = false;
}

// ==========================
// Populate selectors
// ==========================
volumeSel.addEventListener('change', () => {
  state.volume = volumeSel.value;
  chapterSel.innerHTML = '<option value="">Select chapter</option>';
  topicSel.innerHTML = '<option value="">Select topic</option>';
  qtypeSel.value = '';
  chapterSel.disabled = !state.volume;
  topicSel.disabled = true;
  qtypeSel.disabled = true;
  clearUI();

  if (state.volume) {
    const chapters = DATA.volumes[state.volume].chapters;
    Object.keys(chapters).forEach(chKey => {
      const opt = document.createElement('option');
      opt.value = chKey;
      opt.textContent = chapters[chKey].label;
      chapterSel.appendChild(opt);
    });
  }
});

chapterSel.addEventListener('change', () => {
  state.chapter = chapterSel.value;
  topicSel.innerHTML = '<option value="">Select topic</option>';
  qtypeSel.value = '';
  topicSel.disabled = !state.chapter;
  qtypeSel.disabled = true;
  clearUI();

  if (state.chapter) {
    const topics = DATA.volumes[state.volume].chapters[state.chapter].topics;
    Object.keys(topics).forEach(tKey => {
      const opt = document.createElement('option');
      opt.value = tKey;
      opt.textContent = topics[tKey].label;
      topicSel.appendChild(opt);
    });
  }
});

topicSel.addEventListener('change', () => {
  state.topic = topicSel.value;
  qtypeSel.value = '';
  qtypeSel.disabled = !state.topic;
  clearUI();
});

qtypeSel.addEventListener('change', () => {
  state.qtype = qtypeSel.value;
  clearUI();
  if (state.qtype) {
    renderQuestions();
    submitBtn.disabled = false;
    resetBtn.disabled = false;
  } else {
    submitBtn.disabled = true;
    resetBtn.disabled = true;
  }
});

// ==========================
// Render questions
// ==========================
function renderQuestions() {
  const topicObj = DATA.volumes[state.volume].chapters[state.chapter].topics[state.topic];
  let questions = [];

  if (state.qtype === 'theory' || state.qtype === 'both') {
    questions = questions.concat(topicObj.theory);
  }
  if (state.qtype === 'practice' || state.qtype === 'both') {
    questions = questions.concat(topicObj.practice);
  }

  contentEl.innerHTML = '';
  questions.forEach((q, idx) => {
    const qDiv = document.createElement('div');
    qDiv.className = 'q';
    qDiv.dataset.qid = q.id;

    const meta = document.createElement('div');
    meta.className = 'q-meta';
    meta.textContent = `Q${idx + 1}`;
    qDiv.appendChild(meta);

    const stem = document.createElement('div');
    stem.className = 'stem';
    stem.textContent = q.stem;
    qDiv.appendChild(stem);

    if (q.questionImage) {
      const img = document.createElement('img');
      img.src = q.questionImage;
      img.alt = 'Question image';
      img.style.maxWidth = '100%';
      qDiv.appendChild(img);
    }

    const choicesDiv = document.createElement('div');
    choicesDiv.className = 'choices';
    q.choices.forEach((choice, cIdx) => {
      const choiceDiv = document.createElement('label');
      choiceDiv.className = 'choice';
      const radio = document.createElement('input');
      radio.type = 'radio';
      radio.name = q.id;
      radio.value = cIdx;
      const letter = document.createElement('span');
      letter.className = 'letter';
      letter.textContent = String.fromCharCode(65 + cIdx) + '.';
      const text = document.createElement('span');
      text.textContent = choice;
      choiceDiv.appendChild(radio);
      choiceDiv.appendChild(letter);
      choiceDiv.appendChild(text);
      choicesDiv.appendChild(choiceDiv);
    });
    qDiv.appendChild(choicesDiv);

    const feedback = document.createElement('div');
    feedback.className = 'feedback hidden';
    qDiv.appendChild(feedback);

    if (q.answerImage) {
      const reveals = document.createElement('div');
      reveals.className = 'reveals hidden';
      const ansImg = document.createElement('img');
      ansImg.src = q.answerImage;
      ansImg.alt = 'Answer image';
      ansImg.style.maxWidth = '100%';
      reveals.appendChild(ansImg);
      qDiv.appendChild(reveals);
    }

    contentEl.appendChild(qDiv);
  });
}

// ==========================
// Submit & score
// ==========================
submitBtn.addEventListener('click', () => {
  if (state.submitted) return;
  const topicObj = DATA.volumes[state.volume].chapters[state.chapter].topics[state.topic];
  let questions = [];
  if (state.qtype === 'theory' || state.qtype === 'both') {
    questions = questions.concat(topicObj.theory);
  }
  if (state.qtype === 'practice' || state.qtype === 'both') {
    questions = questions.concat(topicObj.practice);
  }

  let score = 0;
  questions.forEach(q => {
    const selected = document.querySelector(`input[name="${q.id}"]:checked`);
    const qDiv = document.querySelector(`.q[data-qid="${q.id}"]`);
    const feedback = qDiv.querySelector('.feedback');
    if (selected) {
      if (parseInt(selected.value, 10) === q.correctIndex) {
        score++;
        feedback.textContent = 'Correct';
        feedback.classList.add('correct');
      } else {
        feedback.textContent = `Incorrect. Correct answer: ${String.fromCharCode(65 + q.correctIndex)}`;
        feedback.classList.add('incorrect');
      }
    } else {
      feedback.textContent = `No answer. Correct answer: ${String.fromCharCode(65 + q.correctIndex)}`;
      feedback.classList.add('incorrect');
    }
    feedback.classList.remove('hidden');

    const reveals = qDiv.querySelector('.reveals');
    if (reveals) reveals.classList.remove('hidden');
  });

  rawScoreEl.textContent = `${score} / ${questions.length}`;
  pctScoreEl.textContent = `${((score / questions.length) * 100).toFixed(0)}%`;
  scoreboard.classList.remove('hidden');
  state.submitted = true;
});

// ==========================
// Reset
// ==========================
resetBtn.addEventListener('click', () => {
  clearUI();
  if (state.qtype) {
    renderQuestions();
  }
});
</script>
</body>
</html>
