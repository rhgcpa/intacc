<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quizzes | EXCELlent Intermediate Accounting</title>
  <link rel="stylesheet" href="style.css" />

<main>
  <section id="questions">
    <!-- Question entries are rendered dynamically -->
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 1",
    question: "Cash on hand includes:",
    choices: {
      A: "Checks dated less than 6 months after today.",
      B: "Checks dated less than 6 months before today.",
      C: "Checks dated more than 6 months after today.",
      D: "Checks dated more than 6 months before today."
    },
    correct: "B"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 2",
    question: "In defining cash equivalents, known maturity value denotes:",
    choices: {
      A: "Maturity date is determinable on acquisition date.",
      B: "Maturity value is determinable on acquisition date.",
      C: "Maturity value will be determined on maturity date.",
      D: "Maturity value will be known on maturity date."
    },
    correct: "B"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 3",
    question: "Which are excluded from cash equivalents?",
    choices: {
      A: "Credit cards receivable.",
      B: "Debit cards receivable.",
      C: "Time deposits downgraded lower than savings accounts when pre-terminated.",
      D: "Time deposits downgraded not lower than savings accounts when pre-terminated."
    },
    correct: "C"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 4",
    question: "Which are classified as restricted cash, and presented as noncurrent assets?",
    choices: {
      A: "Currency usable for at least 12 months after the reporting period.",
      B: "Currency usable for less than 12 months after the reporting period.",
      C: "Currency usable for more than 12 months after the reporting period.",
      D: "Currency usable within 12 months after the reporting period."
    },
    correct: "A"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 5",
    question: "Which are classified as short-term investments, and presented as current assets?",
    choices: {
      A: "Bank deposits withdrawable with insignificant penalty and usable for less than 12 months.",
      B: "Bank deposits withdrawable with significant penalty and usable for more than 12 months.",
      C: "Bank deposits withdrawable with significant penalty and usable within 12 months.",
      D: "Bank deposits withdrawable without penalty and usable for less than 12 months."
    },
    correct: "C"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 6",
    question: "These describe a bank overdraft, except:",
    choices: {
      A: "It is allowed only if caused by normal bank changes or other incidental handling fees.",
      B: "It is disallowed in the Philippines.",
      C: "It is known as temporary overdrawing in the Philippines.",
      D: "It is the negative (or overdrawn) balance in a demand deposit account."
    },
    correct: "B"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 7",
    question: "Check withdrawals are recorded as:",
    choices: {
      A: "Debit to Demand Deposits of depositor entity and credit to Deposit Liabilities of financial institution.",
      B: "Debit to Demand Deposits of financial institution and credit to Deposit Liabilities of depositor entity.",
      C: "Debit to Deposit Liabilities of depositor entity and credit to Demand Deposits of financial institution.",
      D: "Debit to Deposit Liabilities of financial institution and credit to Demand Deposits of depositor entity."
    },
    correct: "D"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 8",
    question: "Timing differences for Deposit Liabilities of financial institution comprise:",
    choices: {
      A: "Credit memos and debit memos.",
      B: "Outstanding checks and debit memos.",
      C: "Outstanding deposits and credit memos.",
      D: "Outstanding deposits and outstanding checks."
    },
    correct: "D"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 9",
    question: "Which describe debit memos?",
    choices: {
      A: "They are already credited to Demand Deposits but not yet debited to Deposit Liabilities.",
      B: "They are already credited to Deposit Liabilities but not yet debited to Demand Deposits.",
      C: "They are already debited to Demand Deposits but not yet credited to Deposit Liabilities.",
      D: "They are already debited to Deposit Liabilities but not yet credited to Demand Deposits."
    },
    correct: "D"
  },
  {
    volume: "1",
    chapter: "1",
    topic: "Cash and Cash Equivalents",
    type: "Theory",
    number: "Theory Question 10",
    question: "Before replenishment, the adjusted balance of Petty Cash Fund equals:",
    choices: {
      A: "Currency in the custody of the Petty Cash Custodian.",
      B: "Established amount.",
      C: "Minimum threshold.",
      D: "Total of Petty Cash Vouchers."
    },
    correct: "A"
  },
  {
  volume: "1",
  chapter: "1",
  topic: "Cash and Cash Equivalents",
  type: "Practice",
  number: "Practice Question 1",
  question: "With these givens, the closing outstanding checks are:",
  image: "9AksMpPc4BgGRVMbg38mM.png",
  choices: {
    A: "289,000.00",
    B: "311,000.00",
    C: "489,000.00",
    D: "511,000.00"
  },
  correct: "B",
  answerImage: "uUmFNSmAsimSRT3wQcDj3.png"
},
{
  volume: "1",
  chapter: "1",
  topic: "Cash and Cash Equivalents",
  type: "Practice",
  number: "Practice Question 2",
  question: "With these givens, the opening outstanding checks are:",
  image: "B9Xr1f8d6jNNEu4WUbBzw.png",
  choices: {
    A: "289,000.00",
    B: "311,000.00",
    C: "489,000.00",
    D: "511,000.00"
  },
  correct: "B",
  answerImage: "hgCNpSqitud8HfLd3bC9m.png"
},
{
  volume: "1",
  chapter: "1",
  topic: "Cash and Cash Equivalents",
  type: "Practice",
  number: "Practice Question 3",
  question: "With these givens, the closing book balance is:",
  image: "WSmSFWzcrxavWNeuLi48o.png",
  choices: {
    A: "2,496,000.00",
    B: "2,499,800.00",
    C: "2,500,200.00",
    D: "2,504,000.00"
  },
  correct: "B",
  answerImage: "NnfzN1f5D5pSqMMMUv91Z.png"
},
{
  volume: "1",
  chapter: "1",
  topic: "Cash and Cash Equivalents",
  type: "Practice",
  number: "Practice Question 4",
  question: "With these givens, the closing outstanding deposits are:",
  image: "MkAdUTutipx5A4YTi8HKR.png",
  choices: {
    A: "487,000.00",
    B: "513,000.00",
    C: "887,000.00",
    D: "913,000.00"
  },
  correct: "D",
  answerImage: "NaY2c9aBHHXp6QTNKnK6y.png"
},
{
  volume: "1",
  chapter: "1",
  topic: "Cash and Cash Equivalents",
  type: "Practice",
  number: "Practice Question 5",
  question: "With these givens, the closing outstanding deposits are:",
  image: "iSBewd5A58zieu7UW8ikH.png",
  choices: {
    A: "398,700.00",
    B: "398,900.00",
    C: "898,700.00",
    D: "898,900.00"
  },
  correct: "C",
  answerImage: "6LBumfAAmt2dwQbDtWvJP.png"
}
<!-- Question entries are rendered dynamically -->
  </section>
  <section id="score"></section>
</main>

  <script defer>

    // DOM elements
    let volumeSelect, chapterSelect, topicSelect, typeSelect;
    let questionContainer, scoreContainer;

    document.addEventListener("DOMContentLoaded", () => {
      volumeSelect = document.getElementById("volume");
      chapterSelect = document.getElementById("chapter");
      topicSelect = document.getElementById("topic");
      typeSelect = document.getElementById("type");
      questionContainer = document.getElementById("questions");
      scoreContainer = document.getElementById("score");

      populateVolumeDropdown();
      setupDropdownListeners();
      document.getElementById("submitBtn").addEventListener("click", handleSubmit);
      document.getElementById("resetBtn").addEventListener("click", handleReset);
    });

    function populateVolumeDropdown() {
      const volumes = [...new Set(questionData.map(q => q.volume))];
      volumes.forEach(v => {
        const option = document.createElement("option");
        option.value = v;
        option.textContent = `Volume ${v}`;
        volumeSelect.appendChild(option);
      });
    }

    function setupDropdownListeners() {
      volumeSelect.addEventListener("change", () => {
        resetDropdown(chapterSelect, "Select Chapter");
        resetDropdown(topicSelect, "Select Topic");
        resetDropdown(typeSelect, "Select Type");
        const chapters = [...new Set(questionData
          .filter(q => q.volume === volumeSelect.value)
          .map(q => q.chapter))];
        chapters.forEach(c => {
          const option = document.createElement("option");
          option.value = c;
          option.textContent = `Chapter ${c}`;
          chapterSelect.appendChild(option);
        });
      });

      chapterSelect.addEventListener("change", () => {
        resetDropdown(topicSelect, "Select Topic");
        resetDropdown(typeSelect, "Select Type");
        const topics = [...new Set(questionData
          .filter(q => q.volume === volumeSelect.value && q.chapter === chapterSelect.value)
          .map(q => q.topic))];
        topics.forEach(t => {
          const option = document.createElement("option");
          option.value = t;
          option.textContent = t;
          topicSelect.appendChild(option);
        });
        adjustTopicDropdownWidth(topics);
      });

      topicSelect.addEventListener("change", () => {
        resetDropdown(typeSelect, "Select Type");
        const filtered = questionData.filter(q =>
          q.volume === volumeSelect.value &&
          q.chapter === chapterSelect.value &&
          q.topic === topicSelect.value
        );
        const hasPractice = filtered.some(q => q.type === "Practice");
        ["Theory", ...(hasPractice ? ["Practice", "Both"] : [])].forEach(t => {
          const option = document.createElement("option");
          option.value = t;
          option.textContent = t;
          typeSelect.appendChild(option);
        });
      });

      typeSelect.addEventListener("change", () => {
        renderQuestions();
      });
    }

    function resetDropdown(dropdown, placeholder) {
      dropdown.innerHTML = "";
      const placeholderOption = document.createElement("option");
      placeholderOption.value = "";
      placeholderOption.textContent = placeholder;
      dropdown.appendChild(placeholderOption);
    }

    function adjustTopicDropdownWidth(topics) {
      const maxLength = Math.max(...topics.map(t => t.length));
      topicSelect.style.width = `${maxLength * 10}px`;
    }

    function renderQuestions() {
      questionContainer.innerHTML = "";
      scoreContainer.innerHTML = "";
      const selected = {
        volume: volumeSelect.value,
        chapter: chapterSelect.value,
        topic: topicSelect.value,
        type: typeSelect.value
      };
      let filtered = questionData.filter(q =>
        q.volume === selected.volume &&
        q.chapter === selected.chapter &&
        q.topic === selected.topic &&
        (selected.type === "Both" || q.type === selected.type)
      );
      filtered = shuffleArray(filtered);

      let theoryCount = 1;
      let practiceCount = 1;

      filtered.forEach((q, index) => {
        const wrapper = document.createElement("div");
        wrapper.className = "question-block";

        const questionLabel = document.createElement("p");
        questionLabel.textContent =
          q.type === "Theory"
            ? `Theory Question ${theoryCount++}: ${q.question}`
            : `Practice Question ${practiceCount++}: ${q.question}`;
        wrapper.appendChild(questionLabel);

if (q.type === "Practice" && q.image) {
  const img = document.createElement("img");
  img.src = `images/${q.image}`; // Adjust path if needed
  img.alt = "Practice Question Image";
  wrapper.appendChild(img);
  wrapper.appendChild(document.createElement("br")); // Ensures image is on its own line
}

        ["A", "B", "C", "D"].forEach(choice => {
          const label = document.createElement("label");
          const radio = document.createElement("input");
          radio.type = "radio";
          radio.name = `q${index}`;
          radio.value = choice;
          label.appendChild(radio);
          label.appendChild(document.createTextNode(` ${choice}: ${q.choices[choice]}`));
          wrapper.appendChild(label);
          wrapper.appendChild(document.createElement("br"));
        });

        const answerDiv = document.createElement("div");
        answerDiv.className = "answer";
        answerDiv.style.display = "none";
        answerDiv.textContent = `Correct Answer: ${q.correct}`;
        if (q.type === "Practice" && q.answerImage) {
          const answerImg = document.createElement("img");
          answerImg.src = q.answerImage;
          answerImg.alt = "Practice Answer Image";
          answerDiv.appendChild(document.createElement("br"));
          answerDiv.appendChild(answerImg);
        }
        wrapper.appendChild(answerDiv);
        questionContainer.appendChild(wrapper);
      });
    }

    function handleSubmit() {
      const blocks = document.querySelectorAll(".question-block");
      let correct = 0;
      blocks.forEach((block, index) => {
        const selected = block.querySelector(`input[name="q${index}"]:checked`);
        const correctAnswer = questionData[index].correct;
        if (selected && selected.value === correctAnswer) correct++;
        block.querySelector(".answer").style.display = "block";
      });
      const total = blocks.length;
      const percent = ((correct / total) * 100).toFixed(2);
      scoreContainer.innerHTML = `Score: ${correct}/${total} (${percent}%)`;
    }

    function handleReset() {
      resetDropdown(volumeSelect, "Select Volume");
      resetDropdown(chapterSelect, "Select Chapter");
      resetDropdown(topicSelect, "Select Topic");
      resetDropdown(typeSelect, "Select Type");
      questionContainer.innerHTML = "";
      scoreContainer.innerHTML = "";
      populateVolumeDropdown();
    }

    function shuffleArray(arr) {
      return arr
        .map(a => [Math.random(), a])
        .sort((a, b) => a[0] - b[0])
        .map(a => a[1]);
    }
  </script>
</head>
<body>
  <header class="sticky-header">
    <nav>
      <ul class="tabs">
        <li><a href="index.html">Home</a></li>
        <li><a href="glossary.html">Glossary</a></li>
        <li><a href="quizzes.html" class="active">Quizzes</a></li>
        <li><a href="references.html">References</a></li>
        <li><a href="visuals.html">Visuals</a></li>
        <li><a href="tools.html">Tools</a></li>
      </ul>
    </nav>
    <div class="controls">
      <select id="volume">
        <option value="">Select Volume</option>
      </select>
      <select id="chapter">
        <option value="">Select Chapter</option>
      </select>
      <select id="topic">
        <option value="">Select Topic</option>
      </select>
      <select id="type">
        <option value="">Select Type</option>
      </select>
      <button id="submitBtn">Submit</button>
      <button id="resetBtn">Reset</button>
    </div>
  </header>
</body>
</html>
