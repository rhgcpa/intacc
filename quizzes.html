<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quizzes</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header id="sticky-header">
    <nav class="tab-bar">
      <a href="index.html" class="tab">Home</a>
      <a href="glossary.html" class="tab">Glossary</a>
      <a href="quizzes.html" class="tab active">Quizzes</a>
      <a href="references.html" class="tab">References</a>
      <a href="visuals.html" class="tab">Visuals</a>
      <a href="tools.html" class="tab">Tools</a>
    </nav>

    <div class="dropdowns">
      <select id="volume" onchange="updateChapters()">
        <option value="">Select Volume</option>
        <option value="vol1">Volume 1</option>
        <option value="vol2">Volume 2</option>
        <option value="vol3">Volume 3</option>
      </select>

      <select id="chapter" onchange="updateTopics()">
        <option value="">Select Chapter</option>
      </select>

      <select id="topic" onchange="updateTypes()">
        <option value="">Select Topic</option>
      </select>

      <select id="type" onchange="loadQuiz()">
        <option value="">Select Type</option>
      </select>

      <button id="submitBtn" onclick="submitQuiz()">Submit</button>
      <button id="resetBtn" onclick="resetQuiz()">Reset</button>
    </div>
  </header>

  <main id="quiz-container">
    <!-- Quiz content will be injected here -->
  </main>

  <footer>
    <div id="score-display"></div>
  </footer>

  <script>
    const data = {
      vol1: {
        chapter1: {
          topic1: ['Theory', 'Practice'],
          topic2: ['Theory'],
          topic3: ['Practice']
        },
        chapter2: {
          topic1: ['Both']
        }
      },
      vol2: {
        chapter1: {
          topic1: ['Practice'],
          topic2: ['Theory']
        },
        chapter3: {
          topic1: ['Theory', 'Practice']
        }
      },
      vol3: {
        chapter2: {
          topic1: ['Theory', 'Practice']
        }
      }
    };

    function updateChapters() {
      const volume = document.getElementById('volume').value;
      const chapterSelect = document.getElementById('chapter');
      chapterSelect.innerHTML = '<option value="">Select Chapter</option>';

      if (volume && data[volume]) {
        Object.keys(data[volume]).forEach(ch => {
          const opt = document.createElement('option');
          opt.value = ch;
          opt.textContent = ch.replace('chapter', 'Chapter ');
          chapterSelect.appendChild(opt);
        });
      }
      updateTopics();
    }

    function updateTopics() {
      const volume = document.getElementById('volume').value;
      const chapter = document.getElementById('chapter').value;
      const topicSelect = document.getElementById('topic');
      topicSelect.innerHTML = '<option value="">Select Topic</option>';

      if (volume && chapter && data[volume][chapter]) {
        Object.keys(data[volume][chapter]).forEach(tp => {
          const opt = document.createElement('option');
          opt.value = tp;
          opt.textContent = tp.replace('topic', 'Topic ');
          topicSelect.appendChild(opt);
        });
      }
      updateTypes();
    }

    function updateTypes() {
      const volume = document.getElementById('volume').value;
      const chapter = document.getElementById('chapter').value;
      const topic = document.getElementById('topic').value;
      const typeSelect = document.getElementById('type');
      typeSelect.innerHTML = '<option value="">Select Type</option>';

      if (volume && chapter && topic && data[volume][chapter][topic]) {
        data[volume][chapter][topic].forEach(type => {
          const opt = document.createElement('option');
          opt.value = type.toLowerCase();
          opt.textContent = type;
          typeSelect.appendChild(opt);
        });
      }
    }

    function loadQuiz() {
      const type = document.getElementById('type').value;
      const container = document.getElementById('quiz-container');
      container.innerHTML = '';

      if (type === 'theory') {
        container.innerHTML = `
          <div class="quiz-block">
            <p class="question">[Theory Question Placeholder]</p>
            <ul class="choices">
              <li><input type="radio" name="answer" value="A" /> A. Choice A</li>
              <li><input type="radio" name="answer" value="B" /> B. Choice B</li>
              <li><input type="radio" name="answer" value="C" /> C. Choice C</li>
              <li><input type="radio" name="answer" value="D" /> D. Choice D</li>
            </ul>
            <div class="correct-answer hidden">Correct Answer: [Placeholder]</div>
          </div>
        `;
      } else if (type === 'practice') {
        container.innerHTML = `
          <div class="quiz-block">
            <p class="question">[Practice Question Placeholder]</p>
            <img src="images/practice-question-placeholder.png" alt="Practice Question Image" />
            <ul class="choices">
              <li><input type="radio" name="answer" value="A" /> A. Choice A</li>
              <li><input type="radio" name="answer" value="B" /> B. Choice B</li>
              <li><input type="radio" name="answer" value="C" /> C. Choice C</li>
              <li><input type="radio" name="answer" value="D" /> D. Choice D</li>
            </ul>
            <div class="correct-answer hidden">
              Correct Answer: [Placeholder]<br />
              <img src="images/practice-answer-placeholder.png" alt="Practice Answer Image" />
            </div>
          </div>
        `;
      }
    }

    function submitQuiz() {
      const selected = document.querySelector('input[name="answer"]:checked');
      const correctBlock = document.querySelector('.correct-answer');
      const scoreDisplay = document.getElementById('score-display');

      if (selected && correctBlock) {
        correctBlock.classList.remove('hidden');
        const isCorrect = selected.value === 'A'; // Placeholder logic
        scoreDisplay.innerHTML = `
          <p>Raw Score: ${isCorrect ? 1 : 0} / 1</p>
          <p>Percentage: ${isCorrect ? '100%' : '0%'}</p>
        `;
      }
    }

    function resetQuiz() {
      document.getElementById('volume').value = '';
      document.getElementById('chapter').innerHTML = '<option value="">Select Chapter</option>';
      document.getElementById('topic').innerHTML = '<option value="">Select Topic</option>';
      document.getElementById('type').innerHTML = '<option value="">Select Type</option>';
      document.getElementById('quiz-container').innerHTML = '';
      document.getElementById('score-display').innerHTML = '';
    }
  </script>
</body>
</html>
